<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>navit: traffic/dummy/traffic_dummy.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">navit
   &#160;<span id="projectnumber">0.5.3-trunk</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('traffic__dummy_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">traffic_dummy.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A dummy traffic plugin.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="glib__slice_8h_source.html">glib_slice.h</a>&quot;</code><br />
<code>#include &quot;config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="coord_8h_source.html">coord.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item_8h_source.html">item.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xmlconfig_8h_source.html">xmlconfig.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="traffic_8h_source.html">traffic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="plugin_8h_source.html">plugin.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtraffic__priv.html">traffic_priv</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores information about the plugin instance.  <a href="structtraffic__priv.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4113d4a9c06d3b00aea6cbcdaea0635b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtraffic__message.html">traffic_message</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="traffic__dummy_8c.html#a4113d4a9c06d3b00aea6cbcdaea0635b">traffic_dummy_get_messages</a> (struct <a class="el" href="structtraffic__priv.html">traffic_priv</a> *this_)</td></tr>
<tr class="memdesc:a4113d4a9c06d3b00aea6cbcdaea0635b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a dummy traffic report.  <a href="traffic__dummy_8c.html#a4113d4a9c06d3b00aea6cbcdaea0635b">More...</a><br /></td></tr>
<tr class="separator:a4113d4a9c06d3b00aea6cbcdaea0635b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ef5a30a20fdc5065e6c59e998c8ef6"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structtraffic__priv.html">traffic_priv</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="traffic__dummy_8c.html#a21ef5a30a20fdc5065e6c59e998c8ef6">traffic_dummy_new</a> (struct <a class="el" href="structnavit.html">navit</a> *nav, struct <a class="el" href="structtraffic__methods.html">traffic_methods</a> *meth, struct <a class="el" href="structattr.html">attr</a> **attrs, struct <a class="el" href="structcallback__list.html">callback_list</a> *<a class="el" href="main_8c.html#a0bb9aea6e64415d105ad710731075fa4">cbl</a>)</td></tr>
<tr class="memdesc:a21ef5a30a20fdc5065e6c59e998c8ef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new dummy traffic plugin.  <a href="traffic__dummy_8c.html#a21ef5a30a20fdc5065e6c59e998c8ef6">More...</a><br /></td></tr>
<tr class="separator:a21ef5a30a20fdc5065e6c59e998c8ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eaae939034896b436dffbf5e93c0da1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="traffic__dummy_8c.html#a1eaae939034896b436dffbf5e93c0da1">plugin_init</a> (void)</td></tr>
<tr class="memdesc:a1eaae939034896b436dffbf5e93c0da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the traffic plugin.  <a href="traffic__dummy_8c.html#a1eaae939034896b436dffbf5e93c0da1">More...</a><br /></td></tr>
<tr class="separator:a1eaae939034896b436dffbf5e93c0da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab77af5a727bc999c5e75ac32df2a8632"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structtraffic__methods.html">traffic_methods</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="traffic__dummy_8c.html#ab77af5a727bc999c5e75ac32df2a8632">traffic_dummy_meth</a></td></tr>
<tr class="memdesc:ab77af5a727bc999c5e75ac32df2a8632"><td class="mdescLeft">&#160;</td><td class="mdescRight">The methods implemented by this plugin.  <a href="traffic__dummy_8c.html#ab77af5a727bc999c5e75ac32df2a8632">More...</a><br /></td></tr>
<tr class="separator:ab77af5a727bc999c5e75ac32df2a8632"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A dummy traffic plugin. </p>
<p>Navit, a modular navigation system. Copyright (C) 2005-2017 Navit Team</p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License version 2 as published by the Free Software Foundation.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</p>
<p>This is a dummy plugin to test the traffic framework. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1eaae939034896b436dffbf5e93c0da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eaae939034896b436dffbf5e93c0da1">&#9670;&nbsp;</a></span>plugin_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plugin_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the traffic plugin. </p>
<p>The plugin entry point.</p>
<p>This function is called once on startup. </p>

<p class="reference">References <a class="el" href="debug_8h.html#aba3c0ccefe6daa8941b173073268729e">dbg</a>, <a class="el" href="debug_8h.html#a3ce13c42b29fe2a7552478859b7f3c25aa4a22485b46e3407434f1093e42867d4">lvl_debug</a>, and <a class="el" href="traffic__dummy_8c.html#a21ef5a30a20fdc5065e6c59e998c8ef6">traffic_dummy_new()</a>.</p>

</div>
</div>
<a id="a4113d4a9c06d3b00aea6cbcdaea0635b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4113d4a9c06d3b00aea6cbcdaea0635b">&#9670;&nbsp;</a></span>traffic_dummy_get_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtraffic__message.html">traffic_message</a> ** traffic_dummy_get_messages </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtraffic__priv.html">traffic_priv</a> *&#160;</td>
          <td class="paramname"><em>this_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a dummy traffic report. </p>
<p>This method will report two messages when first called: The messages indicate queuing traffic on the A9 Munich–Nuremberg between Neufahrn and Allershausen, and slow traffic on the A96 Lindau–Munich between Gräfelfing and München-Laim.</p>
<p>The 10th call will report an update message for the A9 (with a recent timestamp but otherwise the same data) and a cancellation message for the A96.</p>
<p>They mimic TMC messages in that coordinates are approximate, TMC identifiers are supplied for the locations and extra data fields which can be inferred from the TMC location table are filled. The timestamps indicate a message that has just been received for the first time, i.e. its “first received” and “last updated” timestamps match and are recent. Expiration is after 20 seconds for messages in the first feed and 10 seconds for messages in the first feed (far below the lowest expiration timespan permitted in TMC).</p>
<p>All other calls to this method will return <code>NULL</code>, indicating that there are no messages to report.</p>
<dl class="section return"><dt>Returns</dt><dd>A <code>NULL</code>-terminated pointer array. Each element points to one <code>struct <a class="el" href="structtraffic__message.html" title="A traffic message.">traffic_message</a></code>. <code>NULL</code> is returned (rather than an empty pointer array) if there are no messages to report. </dd></dl>

<p class="reference">References <a class="el" href="structtraffic__location.html#a239f812b9dae308402f74b8a16ac7dab">traffic_location::at</a>, <a class="el" href="traffic_8h.html#a43c5c21548610e8c60b7830393f0dc46a3b44279fac584962dbb14ee7063fb6c8">event_class_congestion</a>, <a class="el" href="traffic_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaf13ba00cdce261ecf570b47f55e1ac13">event_congestion_queue</a>, <a class="el" href="traffic_8h.html#a430b444c74dd3fd1472a31714ec5f1cea22a180d1553a1a789a5b560b62435396">event_congestion_slow_traffic</a>, <a class="el" href="structtraffic__location.html#af58502643623dfc7235ff4421c9824fa">traffic_location::from</a>, <a class="el" href="traffic_8h.html#aa823ba92e016adc6d17c98b55b99d66fa34400c6c246c3703235c62e36730d6b2">location_dir_one</a>, <a class="el" href="traffic_8h.html#ac6b5e3f2c7b923fee92b9fab40fd384ea7a7a88e7724c7b671c118c0d3ce48bbe">location_fuzziness_low_res</a>, <a class="el" href="traffic_8h.html#a973b839614e1bb02eaa23e2bc2465d8ba8c322aa94a1b306001103b68970ae58e">location_ramps_none</a>, <a class="el" href="structtraffic__priv.html#a64a0f4d91e33560c1e9a7c0251b4fffe">traffic_priv::reports_requested</a>, <a class="el" href="structtraffic__location.html#a20da9602948e8cc5d0833b1f0d3d4d15">traffic_location::to</a>, <a class="el" href="traffic_8c.html#a4bf56ca75d542033207ec2cd1f356791">traffic_location_new()</a>, <a class="el" href="traffic_8c.html#aa2e885ae1ebab81e93a2becf815d4662">traffic_message_new_cancellation()</a>, <a class="el" href="traffic_8c.html#aae0076b9498a247a66e8547547368d0d">traffic_message_new_single_event()</a>, <a class="el" href="traffic_8c.html#aac734f94ee54ddb25a539362a09d4b16">traffic_point_new()</a>, and <a class="el" href="structtraffic__location.html#a19c7aed828d8291e1c4cfb6bf364c641">traffic_location::via</a>.</p>

</div>
</div>
<a id="a21ef5a30a20fdc5065e6c59e998c8ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ef5a30a20fdc5065e6c59e998c8ef6">&#9670;&nbsp;</a></span>traffic_dummy_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structtraffic__priv.html">traffic_priv</a>* traffic_dummy_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnavit.html">navit</a> *&#160;</td>
          <td class="paramname"><em>nav</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtraffic__methods.html">traffic_methods</a> *&#160;</td>
          <td class="paramname"><em>meth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structattr.html">attr</a> **&#160;</td>
          <td class="paramname"><em>attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcallback__list.html">callback_list</a> *&#160;</td>
          <td class="paramname"><em>cbl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a new dummy traffic plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nav</td><td>The navit instance </td></tr>
    <tr><td class="paramname">meth</td><td>Receives the traffic methods </td></tr>
    <tr><td class="paramname">attrs</td><td>The attributes for the map </td></tr>
    <tr><td class="paramname">cbl</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a <code><a class="el" href="structtraffic__priv.html" title="Stores information about the plugin instance.">traffic_priv</a></code> structure for the plugin instance </dd></dl>

<p class="reference">References <a class="el" href="debug_8h.html#aba3c0ccefe6daa8941b173073268729e">dbg</a>, <a class="el" href="debug_8h.html#a3ce13c42b29fe2a7552478859b7f3c25aa4a22485b46e3407434f1093e42867d4">lvl_debug</a>, and <a class="el" href="traffic__dummy_8c.html#ab77af5a727bc999c5e75ac32df2a8632">traffic_dummy_meth</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__dummy_8c.html#a1eaae939034896b436dffbf5e93c0da1">plugin_init()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab77af5a727bc999c5e75ac32df2a8632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab77af5a727bc999c5e75ac32df2a8632">&#9670;&nbsp;</a></span>traffic_dummy_meth</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtraffic__methods.html">traffic_methods</a> traffic_dummy_meth</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <a class="code" href="traffic__dummy_8c.html#a4113d4a9c06d3b00aea6cbcdaea0635b">traffic_dummy_get_messages</a>,</div>
<div class="line">    NULL,</div>
<div class="line">}</div>
<div class="ttc" id="atraffic__dummy_8c_html_a4113d4a9c06d3b00aea6cbcdaea0635b"><div class="ttname"><a href="traffic__dummy_8c.html#a4113d4a9c06d3b00aea6cbcdaea0635b">traffic_dummy_get_messages</a></div><div class="ttdeci">struct traffic_message ** traffic_dummy_get_messages(struct traffic_priv *this_)</div><div class="ttdoc">Returns a dummy traffic report.</div><div class="ttdef"><b>Definition:</b> traffic_dummy.c:75</div></div>
</div><!-- fragment -->
<p>The methods implemented by this plugin. </p>

<p class="reference">Referenced by <a class="el" href="traffic__dummy_8c.html#a21ef5a30a20fdc5065e6c59e998c8ef6">traffic_dummy_new()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ca5bc84778232e065d4044b72d558378.html">traffic</a></li><li class="navelem"><a class="el" href="dir_94f23bb22342195ab1a6aa5f5d6daa89.html">dummy</a></li><li class="navelem"><a class="el" href="traffic__dummy_8c.html">traffic_dummy.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
